<!DOCTYPE html>
<html>

<head>
    <title>박스 추가 및 삭제</title>
    <style>
        .box-container {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            margin-bottom: 20px;
        }

        .box {
            width: 100px;
            height: 100px;
            background-color: #f2f2f2;
            border: 2px solid #ccc;
            border-radius: 8px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-family: Arial, sans-serif;
            font-size: 14px;
            color: #333;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out, transform 0.2s ease-in-out;
        }

        .box:hover {
            background-color: #e2e2e2;
            transform: scale(1.05);
        }

        .delete-button {
            position: absolute;
            top: 5px;
            right: 5px;
            width: 20px;
            height: 20px;
            background-color: #f2f2f2;
            border: none;
            border-radius: 50%;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            color: #999;
            transition: background-color 0.2s ease-in-out, color 0.2s ease-in-out;
        }

        .delete-button:hover {
            background-color: #e2e2e2;
            color: #666;
        }

        .add-button {
            padding: 10px 20px;
            background-color: #03c75a;
            border: none;
            border-radius: 4px;
            color: #fff;
            font-size: 14px;
            cursor: pointer;
            transition: background-color 0.2s ease-in-out;
        }

        .add-button:hover {
            background-color: #02ac4a;
        }
    </style>
</head>
<!-- eventListener 방식을 inline방식으로 리팩토링하기 -->
<body>
    <div class="box-container" id="container">
    </div>
    <button class="add-button" id="addButton" onclick="createBox()">박스 추가</button>
    <button class="clean-button" id="cleanButton" onclick="cleanBox()">초기화</button>

    <script>
        count = 0;
        maxNumber =0
        var addBtn = document.getElementById('addButton');
        
        var add = document.getElementById("container");

        function createBox() {
            if(maxNumber ==20){
                alert("20개 이상입니다. 더이상 생산 불가합니다.")
            }else{
            count++;
            maxNumber++;
            var div = document.createElement("div")
            div.className="box"
            div.textContent="box"+count
            
            var button = document.createElement("button");
            button.className="delete-button"
            button.textContent="X"
            
            div.appendChild(button);
            add.appendChild(div)
            
            button.addEventListener("click", function () {
                removeBox();  
            })
            function removeBox() {
                event.target.parentElement.remove();
            }
            }
        }

        var cleanBtn = document.getElementById("cleanButton");


        function cleanBox(){
            while(add.hasChildNodes()){
                add.removeChild(add.firstChild);
            }
            count=0;
        }
        
        
    </script>
</body>

</html>